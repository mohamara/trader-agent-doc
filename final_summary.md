# ุฎูุงุตู ููุง ูุฑุขูุฏ ุขูุงูุฒ ุงุณุชุฑุงุชฺ ูุนุงููุงุช

## ๐ ูุฑุงุญู ฺฉู (7 ูุฑุญูู)

### 1๏ธโฃ **ูุฑูุฏ ฺฉุงุฑุจุฑ** โ ูพูู
```
๐ ุฏุงุฏูโูุง OHLC + โ๏ธ ุชูุธูุงุช ุงุณุชุฑุงุชฺ
```

### 2๏ธโฃ **ูพุฑุฏุงุฒุด ูพูู** โ API
```
๐ง handleAnalysisSubmit() โ ๐ HTTP POST /analyze
```

### 3๏ธโฃ **ุฏุฑุงูุช API** โ ุงุณุชุฑุงุชฺ
```
๐ฅ ุฏุฑุงูุช JSON โ ๐ ุจุงุฑฺฏุฐุงุฑ ุงุณุชุฑุงุชฺ โ ๐ ุชุจุฏู ุจู DataFrame
```

### 4๏ธโฃ **ุชุญูู ุงุณุชุฑุงุชฺ** โ ูุชุงุฌ
```
๐ฏ detect_order_blocks() โ ๐ detect_moves() โ ๐ช calculate_strength()
```

### 5๏ธโฃ **ููุชุฑ ูุชุงุฌ** โ ูพุงุณุฎ
```
๐ง ุญุฐู ูููพูุดุงู โ ๐ ุณุงุฎุช OrderBlockResult โ ๐ค JSON Response
```

### 6๏ธโฃ **ุจุงุฒฺฏุดุช ุจู ูพูู** โ ููุงุด
```
๐ฑ ุฏุฑุงูุช ูพุงุณุฎ โ ๐จ updateAnalysisResults() โ ๐ ููุงุด ุฏุฑ UI
```

### 7๏ธโฃ **ููุงุด ููุง** โ ฺฉุงุฑุจุฑ
```
๐ ูููุฏุงุฑูุง + ๐ ุขูุงุฑ + ๐ ุฏฺฉููโูุง ุนููุงุช
```

---

## ๐ ูุชุบุฑูุง ฺฉูุฏ

### ูุฑูุฏ
```javascript
{
  "data": [{"date": "...", "open": 1850, "high": 1855, "low": 1848, "close": 1852}],
  "strategy_name": "orderblock",
  "strategy_mode": "bullish",
  "settings": {"min_strength_threshold": 0.3}
}
```

### ุฎุฑูุฌ
```javascript
{
  "status": "success",
  "analysis": {
    "bullish_blocks": [{"index": 15, "strength": 0.85, "high": 1865.5, "low": 1860.2}],
    "bearish_blocks": [...],
    "total_blocks": 15,
    "strong_blocks": 8
  }
}
```

---

## ๐ง ูุชุฏูุง ุงุตู

| ูุฑุญูู | ูุงู | ูุชุฏ | ูุธูู |
|-------|------|-----|-------|
| **ูพูู** | `panel/script.js` | `handleAnalysisSubmit()` | ุฏุฑุงูุช ูุฑู ู ุงุฑุณุงู ุฏุฑุฎูุงุณุช |
| **API** | `api_service.py` | `analyze_data()` | ุฏุฑุงูุช ู ูพุฑุฏุงุฒุด ุฏุฑุฎูุงุณุช |
| **ุฑุฌุณุชุฑ** | `strategy_registry.py` | `load_strategy()` | ุจุงุฑฺฏุฐุงุฑ ุงุณุชุฑุงุชฺ |
| **ุงุณุชุฑุงุชฺ** | `orderblock_strategy.py` | `analyze()` | ุงุฌุฑุง ุชุญูู ุงุตู |
| **ููุชูุฑ** | `strategy_engine.py` | `execute_analysis()` | ููุงููฺฏ ุชุญูู |

---

## ๐ ูุฑุขูุฏ ุชุญูู Order Blocks

### ูุฑุญูู 1: ุชุดุฎุต ุญุฑฺฉุชโูุง
```
๐ detect_moves()
โโ ุงุณฺฉู ุฏุงุฏูโูุง ุจุฑุง ุงูุชู ุญุฑฺฉุชโูุง ูู
โโ ูุญุงุณุจู ูุฏุฑุช ูุฑ ุญุฑฺฉุช
โโ ุชุนู ุฌูุช (ุตุนูุฏ/ูุฒูู)
```

### ูุฑุญูู 2: ุงูุชู Order Blocks
```
๐ ุจุฑุง ูุฑ ุญุฑฺฉุช:
โโ analyze_candle() - ุชุญูู ุดูุน
โโ analyze_volume() - ุชุญูู ุญุฌู  
โโ calculate_strength() - ูุญุงุณุจู ูุฏุฑุช
```

### ูุฑุญูู 3: ููุชุฑ ฺฉุฑุฏู
```
๐ง ููุชุฑูุง ุงุนูุงู ุดุฏู:
โโ ุญุฐู order blocks ูููพูุดุงู
โโ ููุชุฑ ุจุฑ ุงุณุงุณ ุญุฏุงูู ูุฏุฑุช
โโ ูุญุฏูุฏุช ุชุนุฏุงุฏ ูุชุงุฌ
```

---

## ๐ฏ ูุญุงุณุจุงุช ฺฉูุฏ

### ูุฏุฑุช Order Block
```
strength = (price_change_score ร 0.5) + 
          (consistency_score ร 0.3) + 
          (volume_score ร 0.2)
```

### ุชุญูู ุดูุน
```
body_size = abs(close - open)
price_range = high - low
wick_ratio = (upper_wick + lower_wick) / price_range
body_ratio = body_size / price_range
```

### ุชุงุฏ ุญุฌู
```
volume_score = average_volume / lookback_average
volume_confirmed = volume_score > threshold
```

---

## ๐ ุณุงุฎุชุงุฑ ูุงูโูุง

```
trader-agent/
โโโ panel/                          # ูพูู ฺฉุงุฑุจุฑ
โ   โโโ script.js                   # ููุทู ูพูู
โ   โโโ index.html                  # ุณุงุฎุชุงุฑ HTML
โ
โโโ core-engine/                    # ููุชูุฑ ุงุตู
    โโโ src/
        โโโ services/
        โ   โโโ api_service.py      # API endpoints
        โโโ analysis/
        โ   โโโ strategy_engine.py  # ููุชูุฑ ุชุญูู
        โโโ core/
        โ   โโโ strategy_registry.py # ูุฏุฑุช ุงุณุชุฑุงุชฺโูุง
        โ   โโโ strategy_interface.py # ุฑุงุจุท ุงุณุชุฑุงุชฺโูุง
        โโโ strategies/
            โโโ orderblock_strategy.py # ูพุงุฏูโุณุงุฒ ุงุณุชุฑุงุชฺ
```

---

## โก ูฺฉุงุช ููู

### ุนููฺฉุฑุฏ
- **Batch Mode**: ูพุฑุฏุงุฒุด ฺฉู ุฏุงุฏูโูุง ฺฉุฌุง
- **Caching**: ุฐุฎุฑู ูุชุงุฌ ุจุฑุง ุฏุงุฏูโูุง ูุดุงุจู
- **Validation**: ุงุนุชุจุงุฑุณูุฌ ุฏุงุฏูโูุง ูุจู ุงุฒ ุชุญูู

### ุงููุช
- **Input Validation**: ุจุฑุฑุณ ูุฑูุฏโูุง ฺฉุงุฑุจุฑ
- **Error Handling**: ูุฏุฑุช ุฎุทุงูุง
- **Logging**: ุซุจุช ุนููุงุช

### ูุงุจูุช ุชูุณุนู
- **Modular Design**: ุทุฑุงุญ ูุงฺููุงุฑ
- **Strategy Interface**: ุฑุงุจุท ฺฉุณุงู ุจุฑุง ููู ุงุณุชุฑุงุชฺโูุง
- **Registry System**: ุณุณุชู ุซุจุช ุฎูุฏฺฉุงุฑ ุงุณุชุฑุงุชฺโูุง

---

## ๐ ูุชุฌู ููุง

ููุช ฺฉุงุฑุจุฑ ุฏุฑุฎูุงุณุช ุขูุงูุฒ ูโุฏูุฏ:

1. **ุฏุงุฏูโูุง** ุงุฒ ูพูู ุจู API ุงุฑุณุงู ูโุดููุฏ
2. **ุงุณุชุฑุงุชฺ** ุจุงุฑฺฏุฐุงุฑ ู ุงุฌุฑุง ูโุดูุฏ  
3. **Order Blocks** ุชุดุฎุต ุฏุงุฏู ูโุดููุฏ
4. **ูุชุงุฌ** ููุชุฑ ู ูุฑุชุจ ูโุดููุฏ
5. **ูพุงุณุฎ** ุจู ูพูู ุจุงุฒฺฏุฑุฏุงูุฏู ูโุดูุฏ
6. **ูุชุงุฌ** ุฏุฑ UI ููุงุด ุฏุงุฏู ูโุดููุฏ

ฺฉู ุงู ูุฑุขูุฏ ุฏุฑ ฺฉูุชุฑ ุงุฒ ฺูุฏ ุซุงูู ุงูุฌุงู ูโุดูุฏ ู ูุชุงุฌ ุฏูู ู ูุงุจู ุงุนุชูุงุฏ ุชููุฏ ูโฺฉูุฏ. 